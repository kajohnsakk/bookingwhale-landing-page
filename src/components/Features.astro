---
import { Icon } from 'astro-icon/components'

const features = [
  {
    title: 'จองออนไลน์ได้ทันที',
    description: 'ลูกค้าจองง่ายผ่าน LINE OA, เว็บไซต์ หรือ QR Code พร้อมปุ่ม Rich Menu ใน LINE ที่พาลูกค้าเข้าสู่ระบบจองได้ทันที',
    icon: 'lucide:calendar-plus',
    color: 'blue'
  },
  {
    title: 'จัดการคิวอัจฉริยะ',
    description: 'ไม่ว่าลูกค้าจะเยอะแค่ไหน ระบบช่วยจัดตารางคิวให้อัตโนมัติ ป้องกันการนัดคิวซ้อนหรือตกหล่น จัดการครบ มั่นใจทุกการนัดหมาย',
    icon: 'lucide:brain-circuit',
    color: 'green'
  },
  {
    title: 'แจ้งเตือนทุกนัด กระตุ้นการจองซ้ำ',
    description: 'แจ้งเตือนล่วงหน้าผ่าน LINE ลด No-Show พร้อมกติกาการยกเลิก และข้อความชวนจองซ้ำอัตโนมัติหลังใช้บริการ ให้ลูกค้ากลับมาใช้บริการได้ต่อเนื่อง',
    icon: 'lucide:bell-ring',
    color: 'indigo'
  },
  {
    title: 'เก็บข้อมูลการจองครบถ้วน',
    description: 'บันทึกข้อมูลทุกการจองพร้อมประวัติย้อนหลัง เพื่อนำไปวิเคราะห์ต่อยอดเพิ่มโอกาสการขาย พร้อมฟีเจอร์พิเศษ ลายเซ็นดิจิทัล เพื่อยืนยันการใช้บริการจริง',
    icon: 'lucide:database',
    color: 'purple'
  },
  {
    title: 'ติดตามผลธุรกิจแบบเรียลไทม์',
    description: 'สรุปข้อมูลการจองแบบเรียลไทม์ ช่วยให้คุณมองเห็นภาพรวมของธุรกิจได้อย่างชัดเจน และวางแผนได้แม่นยำ',
    icon: 'lucide:trending-up',
    color: 'orange'
  }
];


---

<section id="features" class="section-padding bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 relative overflow-hidden" aria-labelledby="features-heading">
  <!-- Dark Background Pattern -->
  <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(255 255 255 / 0.02)'%3e%3cpath d='m0 .5h32m-32 32v-32'/%3e%3c/svg%3e')] opacity-30 pointer-events-none"></div>

  <!-- Gradient Overlay -->
  <div class="absolute inset-0 bg-gradient-to-br from-gray-900 via-blue-900/20 to-gray-900 pointer-events-none"></div>

  <!-- Floating Elements -->
  <div class="absolute top-20 left-10 w-32 h-32 bg-blue-500/10 rounded-full blur-xl animate-pulse"></div>
  <div class="absolute bottom-20 right-10 w-40 h-40 bg-purple-500/10 rounded-full blur-xl animate-pulse" style="animation-delay: 2s;"></div>
  <div class="absolute top-1/2 left-1/3 w-24 h-24 bg-green-500/10 rounded-full blur-xl animate-pulse" style="animation-delay: 4s;"></div>
  
  <div class="container-tight relative">
    <div class="text-center mb-12">
      <div class="max-w-4xl mx-auto">
        <h2 id="features-heading" class="text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-4 relative inline-block">
          <span data-translate="whyChoose" class="relative z-10">แพลตฟอร์มของเรา</span>
          <div class="absolute bottom-2 left-0 right-0 h-3 opacity-60 -skew-x-12 transform origin-bottom-left" style="background-color: #0047ff;"></div>
        </h2>
        <p data-translate="featuresDescription" class="text-base lg:text-lg font-normal leading-relaxed text-gray-300 max-w-3xl mx-auto">
          BookingWhale application aims to provide low-cost, convenient, and smart access to booking services, payment solutions, business management tools, and customer support for everyone.
        </p>
      </div>
    </div>
    
    <div class="max-w-7xl mx-auto">
      {/* Features Grid - Unified layout for consistent heights */}
      <div class="features-grid">
        {features.map((feature, index) => {
          return (
            <div class="group bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 hover:border-white/20 hover:shadow-2xl hover:shadow-blue-500/5 transition-all duration-500 p-6 text-center hover:bg-white/10 min-h-[380px] flex flex-col relative overflow-hidden">
              {/* Icon */}
              <div class="mb-4 transform group-hover:scale-110 transition-all duration-500 flex justify-center items-center">
                <div class="w-12 h-12 text-blue-400 group-hover:text-blue-300 transition-colors">
                  <Icon name={feature.icon} size={48} />
                </div>
              </div>

              {/* Content */}
              <div class="flex-1 flex flex-col">
                <h3 data-translate={`feature${index + 1}Title`} class="text-lg font-semibold text-white mb-3 leading-tight">
                  {feature.title}
                </h3>
                <p data-translate={`feature${index + 1}Desc`} class="text-sm text-gray-300 leading-relaxed flex-1">
                  {feature.description}
                </p>
              </div>
            </div>
          );
        })}
      </div>
    </div>
  </div>
</section>

<style>
  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .bg-grid-slate-100 {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(148 163 184 / 0.1)'%3e%3cpath d='m0 .5h32m-32 32v-32'/%3e%3c/svg%3e");
  }

  .features-grid {
    display: grid;
    gap: 2rem;
    /* Mobile: 1 column */
    grid-template-columns: 1fr;
    /* Medium screens: 2 columns for top row, 1 for bottom */
    @media (min-width: 768px) {
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: auto auto auto;
    }
    /* Large screens: 3 columns for top row, 2 centered for bottom */
    @media (min-width: 1024px) {
      gap: 2.5rem;
      grid-template-columns: repeat(6, 1fr);
      grid-template-rows: auto auto;
    }
  }

  .features-grid > :nth-child(1) {
    @media (min-width: 1024px) {
      grid-column: 1 / 3;
      grid-row: 1;
    }
  }

  .features-grid > :nth-child(2) {
    @media (min-width: 1024px) {
      grid-column: 3 / 5;
      grid-row: 1;
    }
  }

  .features-grid > :nth-child(3) {
    @media (min-width: 1024px) {
      grid-column: 5 / 7;
      grid-row: 1;
    }
  }

  .features-grid > :nth-child(4) {
    @media (min-width: 768px) {
      grid-column: 1 / 2;
    }
    @media (min-width: 1024px) {
      grid-column: 2 / 4;
      grid-row: 2;
    }
  }

  .features-grid > :nth-child(5) {
    @media (min-width: 768px) {
      grid-column: 2 / 3;
    }
    @media (min-width: 1024px) {
      grid-column: 4 / 6;
      grid-row: 2;
    }
  }
</style>